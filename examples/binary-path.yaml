# Binary Path Configuration Example
#
# This example demonstrates how to specify the binary under test using the
# `binary` field. The path is resolved relative to this file at load time.
#
# Run with: bintest run examples/binary-path.yaml

version: 1

# The binary under test - resolved relative to this file
binary: /bin/echo

sandbox:
  workdir: temp

tests:
  # Basic usage with ${BINARY}
  - name: binary_from_config
    run:
      cmd: "${BINARY}"
      args: ["hello from binary"]
    expect:
      exit: 0
      stdout:
        contains: "hello from binary"

  # Multiple steps using the same binary
  - name: multi_step_workflow
    steps:
      - name: first_step
        run:
          cmd: "${BINARY}"
          args: ["step 1"]
        expect:
          exit: 0
          stdout:
            contains: "step 1"
      - name: second_step
        run:
          cmd: "${BINARY}"
          args: ["step 2"]
        expect:
          exit: 0
          stdout:
            contains: "step 2"
